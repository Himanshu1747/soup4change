---
import { queryWordPress } from "../lib/wordpress";

const CPTQUERY = `
query GetAllReachSupports {
  ourReachSupports(first: 20) {
    nodes {
      title
      ourReachSupportquery {
        reachValue
      }
    }
  }
}
`;

const response = await queryWordPress(CPTQUERY);
const rawNodes = response?.ourReachSupports?.nodes || [];
const reachItems = [...rawNodes].reverse(); 
---

<div class="grid-counter">
    {
        reachItems.map((item) => (
            <div class="counter-data">
                <h6 class="fs-60">
                    {item.ourReachSupportquery?.reachValue ?? "0"}
                </h6>
                <p>{item.title ?? "Information Unavailable"}</p>
            </div>
        ))
    }
</div>

<style>
    .counter-data p {
        color: var(--color-red);
        font-size: var(--fs-40);
        font-style: normal;
        font-weight: 500;
        line-height: normal;
    }

    .counter-data .fs-60 {
        color: var(--color-blue);
        padding-bottom: 5px;
    }

    .counter-data {
        max-width: 200px;
        text-align: center;
        width: 100%;
        margin: 0 auto;
    }

    .grid-counter {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 30px;
        flex-wrap: wrap;
        max-width: 94%;
        width: 100%;
        margin: 0 auto;
    }

    .counter-data .fs-60 {
        padding-bottom: 10px;
    }

    @media (max-width: 1199px) {
        .grid-counter {
            max-width: 100%;
            justify-content: center;
        }
        .counter-data {
            margin: 0;
        }
    }
</style>
